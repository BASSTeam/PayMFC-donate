<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta property="og:title" content="PayMFC Donation">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://bassteam.github.io/PayMFC-SDK/assets/logos/paymfc_with_bg.png">
    <title>PayMFC Donation | </title>
    <meta property="og:locale" content="ru">
    <meta property="og:site_name" content="PayMFC Donation">
    <meta property="og:description" content="Свободный и открытый сервис донатов в MFC. Задонатьте прямо сейчас!">
    <script type="application/ld+json">{"@type":"WebSite","url":"https://bassteam.github.io/PayMFC-donate/","name":"PayMFC Donation","headline":"PayMFC Donation","@context":"https://schema.org"}</script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/PayMFC-SDK/assets/css/style.css">
    <link rel="stylesheet" href="../assets/style.css">
  </head>
  <body>
    <header class="page-header" role="banner">
      <h1 class="project-name">
        <img src="/PayMFC-SDK/assets/logos/paymfc_no_bg.svg">
        <div class="pad"></div>
      </h1>
    </header>
    <main id="content" class="main-content" role="main">
      <img class="avatar">
      <div class="name"></div>
      <div class="donate-button"><a>Задонатить</a></div>
      <div class="donate-button-hint">У вас должен быть установлен кошелёк, чтобы воспользоваться данной функцией. Если он не открылся на передний план, проверьте его вручную</div>
    </main>
    <script>
      const parts = window.location.pathname.split('/');
      parts.shift();
      parts.shift();
      const { name, address, image } = JSON.parse(atob(decodeURIComponent(parts.join('/'))));
      const title = document.querySelector('head > title');
      const avatar = document.querySelector('#content .avatar');
      const nameElement = document.querySelector('#content .name');
      const button = document.querySelector('#content .donate-button > a');
      const buttonHint = document.querySelector('#content .donate-button-hint');
      title.innerText += name;
      avatar.setAttribute('src', image || 'https://i2.wp.com/profile.mfcoin.net/img/guest_avatar.png?ssl=1');
      nameElement.innerText = name;
      button.setAttribute('href', 'mfcoin:' + address);
      button.addEventListener('click', () => {
        buttonHint.style.display = 'unset';
      })
    </script>
  </body>
</html>